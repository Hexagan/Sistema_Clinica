
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">

    <style>
    @media print {
        .btn,
        .topbar,
        .sidebar,
        .no-print {
            display: none !important;
        }

        body {
            background: white !important;
        }

        .card {
            box-shadow: none !important;
            border: none !important;
        }
    }
    </style>

<head>

    <title>Turno solicitado</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">
<div class="container mt-5">

    <div class="alert alert-success text-center">
        <h3>¡Turno reservado con éxito!</h3>
        <p>Estos son los datos del turno:</p>
    </div>

    <div class="card p-4 shadow-sm">

        <p><strong>Profesional:</strong> {{ turno.profesional.nombre }}</p>
        <p><strong>Especialidad:</strong> {{ turno.profesional.especialidad.nombre }}</p>
        <p><strong>Fecha:</strong> {{ turno.fecha }}</p>
        <p><strong>Hora:</strong> {{ turno.hora }}</p>
        <p><strong>Piso:</strong> {{ turno.profesional.piso }}</p>
        <p><strong>Consultorio:</strong> {{ turno.profesional.consultorio }}</p>
        <p><strong>Modalidad:</strong> {{ turno.get_modalidad_display }}</p>

        {% if turno.qr_code %}
        <div class="text-center mt-3">
            <h5>Check-in QR</h5>
            <img src="data:image/png;base64,{{ turno.qr_code }}" 
                alt="QR del Turno" 
                style="width: 180px; height: 180px;">
        </div>
        {% endif %}
    </div>

    <div class="mt-4 text-center">
        <a href="{% url 'turnos:turnos_agendados' paciente.id %}" class="btn btn-primary">
            Ver turnos agendados
        </a>
        <a href="{% url 'turnos:solicitar_turno' paciente.id %}" class="btn btn-secondary">
            Solicitar otro turno
        </a>
        <a href="#" class="btn btn-outline-secondary" onclick="window.print()">
            Imprimir comprobante
        </a>
    </div>

</div>
</body>
</html>
